# Q1. 제1종 오류와 제2종 오류에 대해 설명해주세요.

통계적 가설 검정은 특정 독립 변수 (주로 한가지, 때로는 다수)를 기준으로 집단간 또는 집단내의 유의미한 차이가 있는지를 비교하고자 할 때 사용하는 추론 통계 방법입니다.  

가설 검정은 이름대로 가설을 세우고 그 가설을 검정합니다. 통계에서 다루는 가설 검정은 특이점이 있다면 검증하고자 하는 가설을 토대로 실험을 진행하는 것이 아니라 대립되는 (귀무)가설을 반증함으로서 검증하고자 하는 가설을 채택하는 방식입니다.  

이게 도대체 무슨 뜻일까요? 

예를 들어, 누군가가 살인죄로 고소를 당했다고 가정을 해봅시다. 일단 고소를 당했다는 점에서 누군가가 "그 사람은 범죄를 저질렀다"라는 전제를 증명하고 싶으니 그것은 대립가설이 될테고, "그 사람은 원래 살던대로 아무 잘 못을 하지 않았다" 즉, 변화가 없다는 것이 귀무가설이 되겠습니다. 

이 외에도 데이터 분석에서 많이 볼 사례들은, 저희가 A/B Test를 진행 했을 때 특정 디자인이 다른 디자인보다 클릭률이 높았다는 것을 보았어도 그것이 유의미한지 검정을 하겠죠? 그렇다면 크릭률이 더 높은 디자인이 유의미하게 '좋다'고 증명을 하려면 그것이 대립가설이 되고, 두 디자인의 효과에는 유의미한 차이가 없는 그냥 우연(확률)이라는 전제가 귀무가설이 됩니다.  

수식은 다음과 같습니다:
- 귀무가설($\ H_0 $)
- 대립가설($\ H_1 $)입니다.  

귀무가설: 비교하고자 하는 집단간 차이가 없다. 또는 모집단1과 모집단2는 같은 분포에서 파생된다고도 볼 수 있습니다.  
$\ H_0: \mu_1 = \mu_2 $  

대립가설: 비교하고자 하는 집단간 차이가 있다. 또는 모집단1과 모집단2는 다른 분포에서 파생된다고도 볼 수 있습니다.   
$\ H_1: \mu_1 \neq \mu_2 $ 
(양측검정)  
$\ H_1: \mu_1 < \mu_2 $ 
또는 
$\ \mu1 > \mu_2 $ 
(단측검정)  

이것을 시각화 해서 본다면 다음 표와 같습니다. 

![표](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUScU4oMCM8gRRYs97LSLoqqw7g8Hv3r5dPw&s)

위의 테이블에서 보듯이 두 가지의 오류가 있습니다.

1종 오류는 알파($\alpha$)로 귀무가설이 참인데 이것을 기각하는 것이고,   
2종 오류는 베타($\beta$)로 귀무가설이 거짓인데 기각을 안 하는 것입니다.  

그렇다면 이러한 오류들의 심각성은 실제로 저희 같은 데이터분석가들이 앞으로 가설검정을 통해 의사결정을 내릴 때 어떠한 영향이 있을까요?  

위의 귀무가설과 대립가설의 분포표를 보시면, 알파가 커질수록 베타가 작아지고 베타가 커질수록 알파가 작아지는 구조입니다. 즉, 두 파라미터 간의 합의를 봐야합니다. 결국에는 상황마다 다르겠지만 둘 중에 하나는 조금 희생해야 하는 상황이 있습니다.  

예를 들어, 저희가 암진단을 한다면요 "아무 이상이 없다"가 귀무가설이고 "암이 있다"가 대립가설이겠죠? 그렇다면, 만약 본인이라고 생각해보시죠. 암이 있는데 없다고 하는 것이 더 치명적일까요, 암이 없는데 있다고 하는 것이 더 치명적일까요? 두 상황 모두 나쁘다는 것은 알고있습니다. 하지만, 암이 없는데 있다고 하면 치료를 받으며 경제적인 지출이 있겠지만 암이 있는데 없다고 결론을 내리면 생명에 큰 타격을 얻을 수 있습니다. 이런 경우에는 귀무가설이 거짓인데 기각하지 않은 2종 오류를 줄이는 검사를 만드는 것이 더 좋겠죠? 그러니까 없는 것 같더라도 추가적인 검사를 하거나, 의료기기가 조금 더 세밀하게 검사를 하는 방향으로 설계 하는 것이 좋겠죠.  

반대로, 1종 오류가 더 치명적인 상황은 어떤 상황일까요? 좀 전에 언급한 것 처럼 재판을 받는 상황입니다. 여기서도 마찬가지로 짚고 넘어가자면, "범죄자가 맞다"가 대립가설이고 "범죄자가 아니다"가 귀무가설이겠죠? 물론 범죄자를 풀어준다는 것이 좋다는 것은 아닌데 범죄를 저지르지 않았는데 구속되면 얼마나 억울할까요? 이것은 귀무가설이 참인데 기각한 1종 오류입니다. 다시 말해 그는 아무 잘 못을 하지 않았는데 벌을 받았다. 이러한 상황 때문에 "Innocent until proven guilty"(유죄를 증명하기 전까지는 무죄이다)라는 말이 있죠.

# Q2. p값 (p-value)는 무엇인가요?

p-value는 그렇다면 앞서 설명한 가설 검정과 1종, 2종 오류와 무슨 연관이 있을까요? 

일단 p-value를 이해하기에 앞서 유의수준 알파 $\alpha$ 를 이해하는 것이 중요합니다. 이는 해석하는 방식이 조금 복잡하지만, 귀무가설이 옳은데도 불구하고 이를 기각할 확률을 의미합니다. 그래서 위에 표에서 보시면 1종 오류는 $\alpha$ 로 표시돼어있습니다. 즉, "만약에 귀무가설이 참이라고 가정했을 때 실수로라도 참인 귀무가설을 기각하고 대립가설을 채택한다면 얼마의 오류를 받아들일(희생할) 수 있는가?"를 정하는 것입니다.

일반적으로는 이 유의수준을 5%로 정하지만 때로는 심각성에 따라 1% 또는 10%로 정하기도 합니다. 

그렇다면 p-value는 귀무가설이 참이라고 할 때 검정통계량의 값이 귀무가설에 반하여 얼마나 예외적인 사건이었는지를 알려주는 지표입니다. 쉽게 말해, "만약에 귀무가설이 참이라고 가정 했을 때 관찰된 차이가 현상으로 일어날 확률이 얼마나 되는가?"의 수치입니다. 그래서 연구 결과를 몇번 본적이 있다면, p-value가 0.05(5%) 이하인 결과로 귀무가설을 기각하고 대립가설을 채택한다고 본적이 있으실 것입니다. 

에를 들어, 만약에 한국 남성의 평균 키와 네덜란드의 남성의 평균 키를 비교한다고 생각해보시죠. 한국은 평균이 175.52이며 네덜란드는 183.78입니다. 귀무가설은 "차이가 없다 또는 같은 분포에서 파생된다"이며, "대립가설은 차이가 있으며 서로 다른 분포를 가진다"입니다. 만약에 같은 분포 또는 추상적으로 해석하자면 같은 키의 유전을 가진다고 생각했을 때 이만한 차이를 보일 확률이 과연 얼마인가? 이러한 키의 평균 통계는 몇백에서 몇천명의 데이터를 모아서 추출했을 것입니다. 그렇다면 이렇게 많은 사람들이 모였을 때 만약에 두 나라의 인구가 같은 분포에서 파생된다면 이런 차이가 보일 확률이 얼마인가? 만약에 5% 이하라면 한국과 네덜란드의 남성의 평균 키는 유의미한 차이가 있다고 보며 귀무가설을 기각하고 대립가설을 채택할 수 있습니다.  

마지막으로 알아야 할 것은, p-value는 절대적이지 않습니다. 이것은 전문가들이 정한 것이지 진리는 결코 아닙니다. p-value가 낮았다고 대립가설이 맞다는 것은 아니라는 뜻입니다. "우리가 본 현상이 우연으로 일어날 확률이 이정도로 낮다면, 대립가설을 인정할 수 있지 않을까?"라고 저는 생각하는 것이 좋다고 생각합니다.